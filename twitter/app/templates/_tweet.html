{% for tweet in tweets %}
<div class="tweet" data-tweet-id="{{ tweet.id }}">
    <div class="tweet-header">
        <a href="{{ url_for('user_profile', user_id=tweet.user.id) }}" class="username">{{ tweet.user.name }}</a>
        <span class="timestamp">{{ tweet.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
    </div>
    <div class="tweet-content">
        {{ tweet.msg }}
    </div>
    <div class="tweet-actions">
        <div class="action-item">
            {% if current_user %}
                {% if current_user.has_favorited(tweet) %}
                    <button class="btn-favorite active" onclick="unfavorite({{ tweet.id }})">
                        ♥ {{ tweet.favorite_count }}
                    </button>
                {% else %}
                    <button class="btn-favorite" onclick="favorite({{ tweet.id }})">
                        ♡ {{ tweet.favorite_count }}
                    </button>
                {% endif %}
            {% else %}
                <span class="favorite-count">♡ {{ tweet.favorite_count }}</span>
            {% endif %}
        </div>
    </div>
</div>
{% endfor %}

{% if not tweets %}
<div class="empty-state">
    <p>No tweets.</p>
</div>
{% endif %}